# –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã - Telegram Mini App

Telegram Mini App –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –ø–µ—à–µ—Ö–æ–¥–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∑–∞–ø—Ä–µ—Ç–Ω—ã—Ö –∑–æ–Ω.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **React + TypeScript** - UI —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Vite** - —Å–±–æ—Ä—â–∏–∫
- **@tma.js/sdk-react** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Mini Apps
- **MapLibre GL** - –∫–∞—Ä—Ç—ã
- **OpenStreetMap** - —Ç–∞–π–ª—ã –∫–∞—Ä—Ç
- **OpenRouteService** - –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π avoid_polygons

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
2. –ü–æ–ª—É—á–∏—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π API –∫–ª—é—á –Ω–∞ [OpenRouteService](https://openrouteservice.org/dev/#/signup)
3. –î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á –≤ `.env`:

```
VITE_ORS_API_KEY=your_api_key_here
```

**–í–∞–∂–Ω–æ:** –ë–µ–∑ API –∫–ª—é—á–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å. –í —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ–∫—Å–∏ Vite –¥–ª—è –æ–±—Ö–æ–¥–∞ CORS.

## –ó–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
npm run dev
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:5173`

### –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä production –±–∏–ª–¥–∞

```bash
npm run build
npm run preview
```

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- ‚úÖ –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ –æ—Ç —Ç–æ—á–∫–∏ A –¥–æ —Ç–æ—á–∫–∏ B
- ‚úÖ –í—ã–±–æ—Ä —Ç–æ—á–µ–∫ –Ω–∞ –∫–∞—Ä—Ç–µ –∫–ª–∏–∫–æ–º
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –¥–ª—è —Ç–æ—á–µ–∫ A –∏ B (–∫–Ω–æ–ø–∫–∏ üìç)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–µ—Ç–Ω—ã—Ö –∑–æ–Ω (–∫—Ä—É–≥ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Ä–∞–¥–∏—É—Å–∞)
- ‚úÖ –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –∑–∞–ø—Ä–µ—Ç–Ω—ã—Ö –∑–æ–Ω –∏–∑ –º–∞—Ä—à—Ä—É—Ç–∞
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ –∏ –∑–æ–Ω –Ω–∞ –∫–∞—Ä—Ç–µ
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ –∏ –≤—Ä–µ–º–µ–Ω–∏ –º–∞—Ä—à—Ä—É—Ç–∞
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–¥–∏—É—Å–∞ –∑–∞–ø—Ä–µ—Ç–Ω—ã—Ö –∑–æ–Ω

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ—á–∫—É A –Ω–∞ –∫–∞—Ä—Ç–µ (–∫–ª–∏–∫–æ–º) –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É üìç –¥–ª—è —Ç–µ–∫—É—â–µ–π –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ—á–∫—É B –Ω–∞ –∫–∞—Ä—Ç–µ (–∫–ª–∏–∫–æ–º) –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É üìç –¥–ª—è —Ç–µ–∫—É—â–µ–π –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤—å—Ç–µ –∑–∞–ø—Ä–µ—Ç–Ω—ã–µ –∑–æ–Ω—ã:
   - –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å –∑–æ–Ω—É"
   - –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–µ –≤ —Ü–µ–Ω—Ç—Ä–µ –∑–æ–Ω—ã
   - –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–¥–∏—É—Å –∑–æ–Ω—ã –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
4. –ù–∞–∂–º–∏—Ç–µ "–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç"
5. –ú–∞—Ä—à—Ä—É—Ç –±—É–¥–µ—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω —Å —É—á–µ—Ç–æ–º –≤—Å–µ—Ö –∑–∞–ø—Ä–µ—Ç–Ω—ã—Ö –∑–æ–Ω

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### GitHub Pages (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π)

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí Secrets and variables ‚Üí Actions** –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç `VITE_ORS_API_KEY` —Å –≤–∞—à–∏–º API –∫–ª—é—á–æ–º OpenRouteService
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí Pages**
4. –í —Ä–∞–∑–¥–µ–ª–µ **Source** –≤—ã–±–µ—Ä–∏—Ç–µ **GitHub Actions**
5. –ü—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ –≤–µ—Ç–∫—É `main` –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–µ—Ä–µ—Ç—Å—è –∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—Å—è

**–í–∞–∂–Ω–æ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Pages –≤–∫–ª—é—á–µ–Ω **Enforce HTTPS**.

### –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π

–î–ª—è GitHub Pages:

```bash
npm run build:pages
```

–ó–∞—Ç–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –∏–∑ `dist/` –≤ –≤–µ—Ç–∫—É `gh-pages` –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ GitHub Actions.

–î–ª—è –¥—Ä—É–≥–∏—Ö —Ö–æ—Å—Ç–∏–Ω–≥–æ–≤:

```bash
npm run build
```

–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –∏–∑ `dist/` –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥ (HTTPS –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω).

### –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ Telegram

1. –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –Ω–∞ GitHub Pages –ø–æ–ª—É—á–∏—Ç–µ URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://codesanitar.github.io/kids-safe-routes/`)
2. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather)
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Mini App —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `/newapp` –≤ BotFather
4. –£–∫–∞–∂–∏—Ç–µ URL –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
kids-safe-routes/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MapComponent.tsx    # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞—Ä—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ControlPanel.tsx    # –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ors.ts              # –°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å OpenRouteService API
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ geometry.ts         # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥–µ–æ–º–µ—Ç—Ä–∏–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ App.tsx                 # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ main.tsx                # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îî‚îÄ‚îÄ types.ts                # TypeScript —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îî‚îÄ‚îÄ deploy.yml          # GitHub Actions workflow –¥–ª—è –¥–µ–ø–ª–æ—è
‚îú‚îÄ‚îÄ vite.config.ts              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vite
‚îî‚îÄ‚îÄ package.json
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Telegram WebView**: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∑–∞–ø—É—â–µ–Ω–æ –ª–∏ –æ–Ω–æ –≤ Telegram, –∏ —Å–∫—Ä—ã–≤–∞–µ—Ç –±–∞–Ω–Ω–µ—Ä –æ—Ç–ª–∞–¥–∫–∏
- **–ü—Ä–æ–∫—Å–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**: –í —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Vite proxy –¥–ª—è –æ–±—Ö–æ–¥–∞ CORS –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö –∫ OpenRouteService API
- **Base path –¥–ª—è GitHub Pages**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π base path –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ GitHub Pages

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
